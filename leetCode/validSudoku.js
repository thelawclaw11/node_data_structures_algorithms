const isValidSudoku = (S) => {
    const rows = 9;
    const cols = 9;

    for (let row = 0; row < rows; row++) {
        const set = new Set();
        for (let col = 0; col < cols; col++) {
            if (S[row][col] === ".") continue;
            if (set.has(S[row][col])) {
                return false;
            } else {
                set.add(S[row][col]);
            }
        }
    }

    for (let col = 0; col < cols; col++) {
        const set = new Set();
        for (let row = 0; row < rows; row++) {
            if (S[row][col] === ".") continue;
            if (set.has(S[row][col])) {
                return false;
            } else {
                set.add(S[row][col]);
            }
        }
    }

    for (let i = 0; i < rows; i += 3) {
        for (let j = 0; j < cols; j += 3) {
            const set = new Set();
            for (let row = i; row < i + 3; row++) {
                for (let col = j; col < j + 3; col++) {
                    if (S[row][col] === ".") continue;
                    if (set.has(S[row][col])) {
                        return false;
                    } else {
                        set.add(S[row][col]);
                    }
                }
            }
        }
    }

    return true;
};

//true
console.log(
    isValidSudoku([
        ["5", "3", ".", ".", "7", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "8", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"],
    ])
);
//false
console.log(
    isValidSudoku([
        ["5", "3", ".", ".", "7", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "5", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"],
    ])
);

//false
console.log(
    isValidSudoku([
        ["8", "3", ".", ".", "7", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "8", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"],
    ])
);
